(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{21:function(e,t,a){},26:function(e,t,a){},41:function(e,t,a){e.exports=a(74)},66:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(16),s=a.n(n),o=a(0),l=a.n(o),i=(a(26),a(5)),r=a(6),c=a(7),m=a(8),u=a(3),p=a(2),d=a(4),h=(a(21),a(10)),f=a.n(h),v={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};function b(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";"post"===a?f.a.post(e,t).then((function(e){console.log("post\u8bf7\u6c42\u6210\u529f\uff1a",e.data)})).catch((function(){console.log("\u540e\u53f0post\u8bf7\u6c42\u5904\u7406\u5931\u8d25")})):"get"===a&&f.a.get(e,t,v).then((function(e){console.log(e.data)})).catch((function(){console.log("\u540e\u53f0get\u8bf7\u6c42\u5904\u7406\u5931\u8d25")}))}var g=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n.login=n.login.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"login",value:function(e){var t=this;if(""!==this._inputUser.value&&""!==this._inputPW){var a={Name:this._inputUser.value,Password:this._inputPW.value};console.log(a),f.a.post("user/login",a).then((function(e){console.log("post\u8bf7\u6c42\u6210\u529f\uff1a",e.data),localStorage.setItem("name",e.data.value),localStorage.setItem("token",e.data.token),t.props.setUser(e.data.userName)})).catch((function(e){console.log("\u540e\u53f0post\u8bf7\u6c42\u5904\u7406\u5931\u8d25"),t.setState({message:e.response.data.message})})),this.setState({loggedIn:!0})}e.preventDefault()}},{key:"render",value:function(){var e=this;if(this.state.loggedIn)return l.a.createElement(p.a,{to:"/"});var t="";return this.state.message&&(t=l.a.createElement("div",{className:"alert"},this.state.message)),l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"login-container"},l.a.createElement("form",{className:"login-form",onSubmit:this.login},t,l.a.createElement("input",{ref:function(t){e._inputUser=t},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}),l.a.createElement("input",{type:"password",name:"pass",size:"20",maxLength:"20",ref:function(t){e._inputPW=t},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",null,l.a.createElement(d.b,{to:"/",className:"fixLink"},"\u8fd4\u56de\u4e3b\u9875")),l.a.createElement("button",{type:"submit"},l.a.createElement(d.b,{to:"/",className:"fixLink"},"\u767b\u5f55")))),l.a.createElement("div",{id:"setting-container"},l.a.createElement(d.b,{to:"/forgotPW",className:"fixLink setting"},"\u5fd8\u8bb0\u5bc6\u7801"),l.a.createElement(d.b,{to:"/register",className:"fixLink setting"},"\u7acb\u5373\u6ce8\u518c"))))}}]),a}(o.Component),E=(a(66),function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e;return e=this.props.user?l.a.createElement(d.b,{className:"button fixLink",to:"/logout"},"\u9000\u51fa"):l.a.createElement(d.b,{className:"button fixLink",to:"/login"},"\u767b\u5f55"),l.a.createElement("header",{id:"Header-container"},l.a.createElement("h1",null,l.a.createElement(d.b,{className:"fixLink",to:"/"},"todos")),l.a.createElement("div",{id:"Header-buttons"},l.a.createElement(d.b,{className:"button fixLink",to:"/register"},"\u6ce8\u518c"),e))}}]),a}(o.Component)),k=a(40),y=a(38),I=a(24),j=(a(69),function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).createTasks=n.createTasks.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"delete",value:function(e){this.props.delete(e)}},{key:"completed",value:function(e){this.props.completed(e)}},{key:"createTasks",value:function(e){var t=this;return l.a.createElement("div",{key:e.key,style:{display:e.display}},l.a.createElement("div",{className:"circle"},l.a.createElement(I.a,{className:"faicons",icon:["far",e.completed?"check-circle":"circle"],onClick:function(){t.completed(e.key)}})),l.a.createElement("li",{className:e.completed?"achieved":""},l.a.createElement("input",{type:"text",id:e.key,value:e.text,style:{textDecoration:e.completed?"line-through":""},onChange:function(a){t.props.setUpdate(a.target.value,e.key)}}),l.a.createElement("span",{className:"trash"},l.a.createElement(I.a,{className:"faicons",icon:"trash",onClick:function(){t.delete(e.key)}}))))}},{key:"render",value:function(){var e=this.props.entries.map(this.createTasks);return l.a.createElement("ul",{className:"theList"},l.a.createElement(y.a,{duration:200,easing:"ease-in-out"},e))}}]),a}(o.Component)),O=(a(70),function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"allItems",value:function(){this.props.allItems()}},{key:"activeItems",value:function(){this.props.activeItems()}},{key:"completedItems",value:function(){this.props.completedItems()}},{key:"deleteCompletedItems",value:function(){this.props.deleteCompletedItems()}},{key:"render",value:function(){var e=this,t=this.props.entries,a=!1;return t.map((function(e){return!0===e.completed?a=!0:null})),l.a.createElement(o.Fragment,null,l.a.createElement("div",{id:"seletor-container"},l.a.createElement("button",{onClick:function(){e.allItems()}},"\u5168\u90e8\u4e8b\u9879"),l.a.createElement("button",{onClick:function(){e.activeItems()}},"\u5f85\u5b8c\u6210"),l.a.createElement("button",{onClick:function(){e.completedItems()}},"\u5df2\u5b8c\u6210"),l.a.createElement("button",{onClick:function(){e.deleteCompletedItems()},style:{display:a?"block":"none",fontSize:"12px",backgroundColor:"#f37a5a"}},"\u5220\u9664\u5df2\u5b8c\u6210")))}}]),a}(o.Component)),N=(a(71),a(17)),C=a(39),x=a(19);N.b.add(C.a,x.c,x.b,x.a);var U=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={items:[]},n.addItem=n.addItem.bind(Object(u.a)(n)),n.deleteItem=n.deleteItem.bind(Object(u.a)(n)),n.completedItem=n.completedItem.bind(Object(u.a)(n)),n.setUpdate=n.setUpdate.bind(Object(u.a)(n)),n.showAllItems=n.showAllItems.bind(Object(u.a)(n)),n.showActiveItems=n.showActiveItems.bind(Object(u.a)(n)),n.showCompletedItems=n.showCompletedItems.bind(Object(u.a)(n)),n.deleteCompletedItems=n.deleteCompletedItems.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"addItem",value:function(e){if(""!==this._inputElement.value){var t={text:this._inputElement.value,key:Date.now(),completed:!1,display:"block"};b("createTodo",{UserID:"light",TodoThing:t.text,Completed:t.completed}),this.setState((function(e){return{items:[].concat(Object(k.a)(e.items),[t])}}))}this._inputElement.value="",e.preventDefault()}},{key:"completedItem",value:function(e){var t=this.state.items;t.map((function(t){return t.key===e?(b("updateTodo",{UserID:"light",ItemID:"f54cd3e2-2e10-42a7-b442-74663f043eac",Completed:!t.completed}),t.completed=!t.completed):null})),this.setState({items:t})}},{key:"deleteItem",value:function(e){var t=this.state.items.filter((function(t){return t.key!==e}));this.setState({items:t})}},{key:"setUpdate",value:function(e,t){var a=this.state.items;a.map((function(a){return a.key===t?(b("updateTodo",{UserID:"light",ItemID:"",Completed:a.completed,TodoThing:e}),a.text=e):null})),this.setState({items:a})}},{key:"showAllItems",value:function(){var e=this.state.items;e.map((function(e){return e.display="block"})),this.setState({items:e})}},{key:"showActiveItems",value:function(){var e=this.state.items;e.map((function(e){return!1===e.completed?e.display="block":e.display="none"})),this.setState({items:e})}},{key:"showCompletedItems",value:function(){var e=this.state.items;e.map((function(e){return!0===e.completed?e.display="block":e.display="none"})),this.setState({items:e})}},{key:"deleteCompletedItems",value:function(){var e=this.state.items.filter((function(e){return!1===e.completed}));this.setState({items:e})}},{key:"render",value:function(){var e=this;return this.state.user&&console.log(this.state.user),l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"todoListMain"},l.a.createElement("header",null,l.a.createElement("form",{id:"to-do-form",onSubmit:this.addItem},l.a.createElement("input",{ref:function(t){e._inputElement=t},placeholder:"\u8bf7\u8f93\u5165\u5f85\u529e\u4e8b\u9879"}),l.a.createElement("button",{type:"submit"},"\u6dfb\u52a0"))),l.a.createElement(j,{entries:this.state.items,delete:this.deleteItem,completed:this.completedItem,setUpdate:this.setUpdate}),l.a.createElement(O,{entries:this.state.items,allItems:this.showAllItems,activeItems:this.showActiveItems,completedItems:this.showCompletedItems,deleteCompletedItems:this.deleteCompletedItems})))}}]),a}(o.Component),S=(a(72),function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{id:"slogan"},l.a.createElement("footer",null,"\u60f3\u5168\u662f\u95ee\u9898\uff0c\u505a\u624d\u6709\u529e\u6cd5"))}}]),a}(o.Component)),_=(a(73),function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n.register=n.register.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"register",value:function(e){var t=this;if(""!==this._inputName.value&&""!==this._inputPW){var a={Name:this._inputName.value,Password:this._inputPW.value};localStorage.setItem("name",this._inputName.value),console.log(a),f.a.post("token",a).then((function(e){localStorage.setItem("token",e.data.token),console.log("\u8fd4\u56de\u7684token\u4e3a\uff1a",e.data.token)})).then((function(){b("user/register",a)})).catch((function(e){console.log("\u540e\u53f0post\u8bf7\u6c42\u5904\u7406\u5931\u8d25"),t.setState({message:e.response.data.message})}))}e.preventDefault()}},{key:"render",value:function(){var e=this,t="";return this.state.message&&(t=l.a.createElement("div",{className:"alert"},this.state.message)),l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"register-container"},l.a.createElement("form",{className:"register-form",onSubmit:this.register},t,l.a.createElement("input",{ref:function(t){e._inputName=t},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}),l.a.createElement("input",{type:"password",name:"pass",size:"20",maxLength:"20",ref:function(t){e._inputPW=t},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),l.a.createElement("input",{type:"password",name:"pass",size:"20",maxLength:"20",ref:function(t){e._inputCheckPW=t},placeholder:"\u786e\u8ba4\u5bc6\u7801"}),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",null,l.a.createElement(d.b,{to:"/",className:"fixLink"},"\u8fd4\u56de\u4e3b\u9875")),l.a.createElement("button",{type:"submit"},l.a.createElement(d.b,{to:"/",className:"fixLink"},"\u6ce8\u518c"))))))}}]),a}(o.Component)),w=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n.forgotPW=n.forgotPW.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"forgotPW",value:function(e){var t=this;if(""!==this._inputUser.value&&""!==this._inputPW){var a={Name:this._inputUser.value,Password:this._inputPW.value};console.log(a),f.a.post("user/changePW",a).then((function(e){console.log("\u8eab\u4efd\u9a8c\u8bc1\u8bf7\u6c42\u6210\u529f\uff1a",e.data),t.setUser(e.data.userName)}),(function(e){console.log(e)})).catch((function(e){console.log("\u540e\u53f0post\u8bf7\u6c42\u5904\u7406\u5931\u8d25"),t.setState({message:e.response.data.message})}))}e.preventDefault()}},{key:"render",value:function(){var e=this,t="";return this.state.message&&(t=l.a.createElement("div",{className:"alert"},this.state.message)),l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"login-container"},l.a.createElement("form",{className:"login-form",onSubmit:this.forgotPW},t,l.a.createElement("input",{ref:function(t){e._inputUser=t},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}),l.a.createElement("input",{type:"password",name:"pass",size:"20",maxLength:"20",ref:function(t){e._inputPW=t},placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"}),l.a.createElement("input",{type:"password",name:"pass",size:"20",maxLength:"20",ref:function(t){e._inputCheckPW=t},placeholder:"\u786e\u8ba4\u65b0\u5bc6\u7801"}),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",null,l.a.createElement(d.b,{to:"/",className:"fixLink"},"\u8fd4\u56de\u4e3b\u9875")),l.a.createElement("button",{type:"submit"},l.a.createElement(d.b,{to:"/",className:"fixLink"},"\u4fee\u6539"))))))}}]),a}(o.Component),L=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).logout=n.logout.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"logout",value:function(){console.log("logout"),localStorage.clear(),this.props.setUser(null)}},{key:"render",value:function(){var e=this;return l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"login-container"},l.a.createElement("form",{className:"login-form"},l.a.createElement("div",{className:"button-container"},l.a.createElement("button",null,l.a.createElement(d.b,{to:"/",className:"fixLink"},"\u8fd4\u56de\u4e3b\u9875")),l.a.createElement("button",{onClick:function(){e.logout()}},l.a.createElement(d.b,{to:"/",className:"fixLink"},"\u9000\u51fa\u767b\u5f55"))))))}}]),a}(o.Component);f.a.defaults.baseURL="/",f.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token");var P=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.post("token/vertify").then((function(t){console.log("\u8eab\u4efd\u9a8c\u8bc1\u8bf7\u6c42\u6210\u529f\uff1a",t.data),e.setUser(t.data.userName)}),(function(e){console.log(e)})),this.setUser=function(t){e.setState({user:t})}}},{key:"render",value:function(){var e=this;return console.log("\u7528\u6237:",this.state.user),l.a.createElement("div",null,l.a.createElement(d.a,null,l.a.createElement(E,{user:this.state.user,setUser:this.setUser}),l.a.createElement("div",{className:"app"},l.a.createElement(p.d,null,l.a.createElement(p.b,{exact:!0,path:"/forgotPW",component:function(){return l.a.createElement(w,{user:e.state.user})}}),l.a.createElement(p.b,{exact:!0,path:"/login",component:function(){return l.a.createElement(g,{setUser:e.setUser})}}),l.a.createElement(p.b,{exact:!0,path:"/logout",component:function(){return l.a.createElement(L,{setUser:e.setUser})}}),l.a.createElement(p.b,{exact:!0,path:"/register",component:function(){return l.a.createElement(_,{setUser:e.setUser})}}),l.a.createElement(p.b,{exact:!0,path:"/",component:function(){return l.a.createElement(U,{user:e.state.user})}})))),l.a.createElement(S,null))}}]),a}(o.Component),W=document.querySelector("#container");s.a.render(l.a.createElement(P,null),W)}},[[41,1,2]]]);
//# sourceMappingURL=main.286a41e8.chunk.js.map